export function usePlinkoFunc() {
  const changePercent = (req: number[]) => {
    const sum = req.reduce((acc, val) => acc + val, 0)
    const res = req.map(val => val / sum)
    return res
  }

  const resText: { [key: string]: { [key: string]: number[] } } = {
    low: {
      _8: [5.6, 2.1, 1.1, 1, 0.5, 1, 1.1, 2.1, 5.6],
      _9: [5.6, 2, 1.6, 1, 0.7, 0.7, 1, 1.6, 2, 5.6],
      _10: [8.9, 3, 1.4, 1.1, 1, 0.5, 1, 1.1, 1.4, 3, 8.9],
      _11: [8.4, 3, 1.9, 1.3, 1, 0.7, 0.7, 1, 1.3, 1.9, 3, 8.4],
      _12: [10, 3, 1.6, 1.4, 1.1, 1, 0.5, 1, 1.1, 1.4, 1.6, 3, 10],
      _13: [8.1, 4, 3, 1.9, 1.2, 0.9, 0.7, 0.7, 0.9, 1.2, 1.9, 3, 4, 8.1],
      _14: [7.1, 4, 1.9, 1.4, 1.3, 1.1, 1, 0.5, 1, 1.1, 1.3, 1.4, 1.9, 4, 7.1],
      _15: [15, 8, 3, 2, 1.5, 1.1, 1, 0.7, 0.7, 1, 1.1, 1.5, 2, 3, 8, 15],
      _16: [16, 9, 2, 1.4, 1.4, 1.2, 1.1, 1, 0.5, 1, 1.1, 1.2, 1.4, 1.4, 2, 9, 16],
    },
    middle: {
      _8: [13, 3, 1.3, 0.7, 0.4, 0.7, 1.3, 3, 13],
      _9: [18, 4, 1.7, 0.9, 0.5, 0.5, 0.9, 1.7, 4, 18],
      _10: [22, 5, 2, 1.4, 0.6, 0.4, 0.6, 1.4, 2, 5, 22],
      _11: [24, 6, 3, 1.8, 0.7, 0.5, 0.5, 0.7, 1.8, 3, 6, 24],
      _12: [33, 11, 4, 2, 1.1, 0.6, 0.3, 0.6, 1.1, 2, 4, 11, 33],
      _13: [43, 13, 6, 3, 1.3, 0.7, 0.4, 0.4, 0.7, 1.3, 3, 6, 13, 43],
      _14: [58, 15, 7, 4, 1.9, 1, 0.5, 0.2, 0.5, 1, 1.9, 4, 7, 15, 58],
      _15: [88, 18, 11, 5, 3, 1.3, 0.5, 0.3, 0.3, 0.5, 1.3, 3, 5, 11, 18, 88],
      _16: [110, 41, 10, 5, 3, 1.5, 1, 0.5, 0.3, 0.5, 1, 1.5, 3, 5, 10, 41, 110],
    },
    high: {
      _8: [29, 4, 1.5, 0.3, 0.2, 0.3, 1.5, 4, 29],
      _9: [43, 7, 2, 0.6, 0.2, 0.2, 0.6, 2, 7, 43],
      _10: [76, 10, 3, 0.9, 0.3, 0.2, 0.3, 0.9, 3, 10, 76],
      _11: [120, 14, 5.2, 1.4, 0.4, 0.2, 0.2, 0.4, 1.4, 5.2, 14, 120],
      _12: [170, 24, 8.1, 2, 0.7, 0.2, 0.2, 0.2, 0.7, 2, 8.1, 24, 170],
      _13: [260, 37, 11, 4, 1, 0.2, 0.2, 0.2, 0.2, 1, 4, 11, 37, 260],
      _14: [420, 56, 18, 5, 1.9, 0.3, 0.2, 0.2, 0.2, 0.3, 1.9, 5, 18, 56, 420],
      _15: [620, 83, 27, 8, 3, 0.5, 0.2, 0.2, 0.2, 0.2, 0.5, 3, 8, 27, 83, 620],
      _16: [1000, 130, 26, 9, 4, 2, 0.2, 0.2, 0.2, 0.2, 0.2, 2, 4, 9, 26, 130, 1000],
    },
  }

  const probabilities: { [key: string]: number[] } = {
    _8: changePercent([1, 8, 28, 56, 70, 56, 28, 8, 1]),
    _9: changePercent([1, 9, 36, 84, 126, 126, 84, 36, 9, 1]),
    _10: changePercent([1, 10, 45, 120, 210, 252, 210, 120, 45, 10, 1]),
    _11: changePercent([1, 11, 55, 165, 330, 462, 462, 330, 165, 55, 11, 1]),
    _12: changePercent([1, 12, 66, 220, 495, 792, 924, 792, 495, 220, 66, 12, 1]),
    _13: changePercent([1, 13, 78, 186, 715, 1287, 1716, 1716, 1287, 715, 186, 78, 13, 1]),
    _14: changePercent([1, 14, 91, 264, 901, 2002, 3003, 3432, 3003, 2002, 901, 264, 91, 14, 1]),
    _15: changePercent([
      1,
      15,
      105,
      355,
      1165,
      2903,
      5005,
      6435,
      6435,
      5005,
      2903,
      1165,
      355,
      105,
      15,
      1,
    ]),
    _16: changePercent([
      1,
      16,
      120,
      460,
      1520,
      4068,
      7908,
      11440,
      12870,
      11440,
      7908,
      4068,
      1520,
      460,
      120,
      16,
      1,
    ]),
  }

  const colors: { [key: string]: number[] } = {
    _8: [0xFA223E, 0xFA302F, 0xFA6020, 0xFA8F11, 0xFAC000, 0xFA8F11, 0xFA6020, 0xFA302F, 0xFA223E],
    _9: [
      0xFA223E,
      0xFA302F,
      0xFA6020,
      0xFA8F11,
      0xFFAC04,
      0xFFAC04,
      0xFA8F11,
      0xFA6020,
      0xFA302F,
      0xFA223E,
    ],
    _10: [
      0xFA223E,
      0xFF2632,
      0xFF4E27,
      0xFA6020,
      0xFA8F11,
      0xFAC000,
      0xFA8F11,
      0xFA6020,
      0xFF4E27,
      0xFF2632,
      0xFA223E,
    ],
    _11: [
      0xFA223E,
      0xFA302F,
      0xFA4527,
      0xFA681E,
      0xFA8C10,
      0xFAAF06,
      0xFAAF06,
      0xFA8C10,
      0xFA681E,
      0xFA4527,
      0xFA2234,
      0xFA223E,
    ],
    _12: [
      0xFA223E,
      0xFA302F,
      0xFA4527,
      0xFA681E,
      0xFA8C10,
      0xFAA00C,
      0xFAC000,
      0xFAA00C,
      0xFA7F17,
      0xFA681E,
      0xFA4527,
      0xFA302F,
      0xFA223E,
    ],
    _13: [
      0xFA223E,
      0xFA2235,
      0xFA4527,
      0xFA5922,
      0xFA7618,
      0xFA940E,
      0xFAB104,
      0xFAB104,
      0xFA940E,
      0xFA7618,
      0xFA5922,
      0xFA3A2C,
      0xFA223E,
      0xFA223E,
    ],
    _14: [
      0xFA223E,
      0xFA223E,
      0xFA302F,
      0xFA5224,
      0xFA681E,
      0xFA8C10,
      0xFAA00C,
      0xFAC000,
      0xFAA00C,
      0xFA7F17,
      0xFA6E1B,
      0xFA5224,
      0xFA362D,
      0xFA223E,
      0xFA223E,
    ],
    _15: [
      0xFA223E,
      0xFA223E,
      0xFA2235,
      0xFA4527,
      0xFA5922,
      0xFA7618,
      0xFA940E,
      0xFAB104,
      0xFAB104,
      0xFA940E,
      0xFA7618,
      0xFA5922,
      0xFA3A2C,
      0xFA223E,
      0xFA223E,
      0xFA223E,
    ],
    _16: [
      0xFA223E,
      0xFA223E,
      0xFA223E,
      0xFA302F,
      0xFA5224,
      0xFA681E,
      0xFA8C10,
      0xFAA00C,
      0xFAC000,
      0xFAA00C,
      0xFA7F17,
      0xFA6E1B,
      0xFA5224,
      0xFA362D,
      0xFA223E,
      0xFA223E,
      0xFA223E,
    ],
  }

  const shadows: { [key: string]: number[] } = {
    _8: [0xA61304, 0xA61302, 0xA81302, 0xAA4B00, 0xAB7902, 0xAA4B00, 0xA81302, 0xA61302, 0xA61304],
    _9: [
      0xA61304,
      0xA61302,
      0xA81302,
      0xAA4B00,
      0xAB7902,
      0xAB7902,
      0xAA4B00,
      0xA81302,
      0xA61302,
      0xA61304,
    ],
    _10: [
      0xA61304,
      0xA61302,
      0xA81302,
      0xAA4B00,
      0xAB7902,
      0xAB7902,
      0xAA4B00,
      0xA81302,
      0xA61302,
      0xA61304,
      0xA61304,
    ],
    _11: [
      0xA61304,
      0xA61302,
      0xA81302,
      0xA81A02,
      0xA94700,
      0xAB6900,
      0xAB6900,
      0xA94700,
      0xA81A02,
      0xA71302,
      0xA61302,
      0xA61304,
    ],
    _12: [
      0xA61304,
      0xA61302,
      0xA81302,
      0xA81A02,
      0xA94700,
      0xAB6900,
      0xAB7902,
      0xAB6900,
      0xA93A00,
      0xA71302,
      0xA61302,
      0xA61304,
      0xA61304,
    ],
    _13: [
      0xA61304,
      0xA61302,
      0xA81302,
      0xA81A02,
      0xA94700,
      0xAA4F00,
      0xAB6B01,
      0xAB6B01,
      0xAA4F00,
      0xA94700,
      0xA81A02,
      0xA81302,
      0xA61302,
      0xA61304,
    ],
    _14: [
      0xA61304,
      0xA61304,
      0xA61302,
      0xA71302,
      0xA81A02,
      0xA94700,
      0xAB6900,
      0xAB7902,
      0xAB6900,
      0xA94700,
      0xA81A02,
      0xA71302,
      0xA61302,
      0xA61304,
      0xA61304,
    ],
    _15: [
      0xA61304,
      0xA61304,
      0xA61302,
      0xA81302,
      0xA81A02,
      0xA94700,
      0xAA4F00,
      0xAB6B01,
      0xAB6B01,
      0xAA4F00,
      0xA94700,
      0xA81A02,
      0xA81302,
      0xA61302,
      0xA61304,
      0xA61304,
    ],
    _16: [
      0xA61304,
      0xA61304,
      0xA61304,
      0xA61302,
      0xA71302,
      0xA81A02,
      0xA94700,
      0xAB6900,
      0xAB6900,
      0xAB7902,
      0xA94700,
      0xA81A02,
      0xA71302,
      0xA61302,
      0xA61304,
      0xA61304,
      0xA61304,
    ],
  }

  return {
    resText,
    probabilities,
    colors,
    shadows,
  }
}
interface RowConfig {
  pins: { rows: number, startY: number, gap: number, pinRadius: number }
  ballConfig: { radius: number, air: number }
}
export const rowMap = new Map<number, RowConfig>([
  [
    8,
    {
      pins: { rows: 10, startY: 30, gap: 30, pinRadius: 4 },
      ballConfig: { radius: 8, air: 0.1 },
    },
  ],
  [
    9,
    {
      pins: { rows: 11, startY: 27, gap: 27, pinRadius: 4 },
      ballConfig: { radius: 6, air: 0.1 },
    },
  ],
  [
    10,
    {
      pins: { rows: 12, startY: 24, gap: 24, pinRadius: 4 },
      ballConfig: { radius: 6, air: 0.125 },
    },
  ],
  [
    11,
    {
      pins: { rows: 13, startY: 22, gap: 22, pinRadius: 3 },
      ballConfig: { radius: 5, air: 0.12 },
    },
  ],
  [
    12,
    {
      pins: { rows: 14, startY: 20, gap: 20, pinRadius: 3 },
      ballConfig: { radius: 5, air: 0.13 },
    },
  ],
  [
    13,
    {
      pins: { rows: 15, startY: 18, gap: 18, pinRadius: 3 },
      ballConfig: { radius: 5, air: 0.14 },
    },
  ],
  [
    14,
    {
      pins: { rows: 16, startY: 17.8, gap: 17.8, pinRadius: 3 },
      ballConfig: { radius: 5, air: 0.142 },
    },
  ],
  [
    15,
    {
      pins: { rows: 17, startY: 16.6, gap: 16.6, pinRadius: 2 },
      ballConfig: { radius: 4, air: 0.135 },
    },
  ],
  [
    16,
    {
      pins: { rows: 18, startY: 15.6, gap: 15.6, pinRadius: 2 },
      ballConfig: { radius: 4, air: 0.145 },
    },
  ],
])
